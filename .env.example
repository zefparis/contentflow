# =========================================
# DATABASE
# =========================================
DATABASE_URL=postgresql+psycopg://USER:PASS@HOST/db?sslmode=require

# =========================================
# STORAGE (S3 / Minio / Cloudflare R2)
# =========================================
S3_ENDPOINT=https://your-s3-endpoint
S3_BUCKET=contentflow-assets
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_REGION=auto

# =========================================
# BASE APP CONFIG
# =========================================
APP_BASE_URL=https://your-app.up.railway.app
PUBLIC_BASE_URL=${APP_BASE_URL}
JWT_SECRET=change_me_in_production
SESSION_SECRET=super_secret_session
ADMIN_SECRET=change_me_admin

# =========================================
# SOCIAL / PUBLISHING INTEGRATIONS
# =========================================

## YouTube
YOUTUBE_CLIENT_ID=your-client-id
YOUTUBE_CLIENT_SECRET=your-client-secret
YOUTUBE_REDIRECT_URL=${APP_BASE_URL}/oauth/youtube/callback
YOUTUBE_SCOPES=https://www.googleapis.com/auth/youtube.upload

## Reddit
REDDIT_CLIENT_ID=your-client-id
REDDIT_CLIENT_SECRET=your-client-secret
REDDIT_REDIRECT_URL=${APP_BASE_URL}/oauth/reddit/callback
REDDIT_USER_AGENT=contentflow/1.0 by your-username
REDDIT_DEFAULT_SUB=videos

## Pinterest
PINTEREST_CLIENT_ID=your-client-id
PINTEREST_CLIENT_SECRET=your-client-secret
PINTEREST_REDIRECT_URL=${APP_BASE_URL}/oauth/pinterest/callback
PINTEREST_BOARD_ID=your-board-id

## Instagram (Meta Graph API)
META_APP_ID=
META_APP_SECRET=
META_REDIRECT_URL=${APP_BASE_URL}/api/ig/oauth/callback
META_GRAPH_VERSION=v21.0
META_SCOPES=pages_show_list,pages_read_engagement,instagram_basic,instagram_content_publish
IG_PAGE_ID=
IG_IG_USER_ID=

## TikTok
TIKTOK_CLIENT_KEY=
TIKTOK_CLIENT_SECRET=
TIKTOK_REDIRECT_URL=${APP_BASE_URL}/oauth/tiktok/callback

# =========================================
# AFFILIATE / OFFERS
# =========================================
AFFIL_BASE_URL=https://your-affiliate.com/landing
AFFIL_DEFAULT_UTM=utm_source={platform}&utm_content={post_id}
AFF_DEFAULT_CURRENCY=EUR
AFF_ACCEPT_PENDING=true
AFF_MAX_AGE_DAYS=45
AFF_SUBID_FORMAT=pid:aid:clk
AFF_ALLOWLIST_IPS=

# =========================================
# CONTENT PROCESSING
# =========================================
MIN_VIDEO_DURATION=3
MAX_VIDEO_DURATION=60
OUTPUT_VIDEO_FORMAT=mp4
OUTPUT_VIDEO_QUALITY=23

# =========================================
# AUTOMATION & IA ORCHESTRATOR
# =========================================
FEATURE_AUTOPILOT=true
FEATURE_SUPPORTBOT=true
FEATURE_RISKBOT=true

AI_TICK_INTERVAL_MIN=10
AI_MAX_ACTIONS_PER_TICK=5
AI_CONFIDENCE_THRESHOLD=0.55
AI_DRY_RUN=false
AI_OBJECTIVE=revenue_ctr_safe
AI_LOOKBACK_DAYS=7
AI_MIN_CTR=0.008
AI_MIN_QUALITY=0.70
AI_MAX_RISK=0.20

# =========================================
# RISK & COMPLIANCE
# =========================================
MAX_RISK_SCORE=0.2
MIN_QUALITY_SCORE=0.7
COMPLIANCE_MANUAL_REVIEW=true
RISK_VELOCITY_MAX_CLICKS_10M=40
RISK_HOLD_DAYS=30

# =========================================
# PAYOUTS / REVENUE
# =========================================
PAYOUT_MIN_EUR=10
PAYOUT_METHODS=paypal,bank
PAYOUT_RESERVE_PCT=0.30
PAYOUT_RELEASE_DAYS=30
PAYOUT_WEEKDAY=1
PAYOUT_APPROVAL_THRESHOLD_EUR=200

DEFAULT_EPC_EUR=0.25
OFFER_MODE=cpc_dynamic     # cpc_fixed | cpc_dynamic | revshare | hybrid
CPC_DEFAULT_EUR=0.10
CPC_MIN_EUR=0.06
CPC_MAX_EUR=0.12
CPC_SAFETY_MARGIN_EUR=0.05
REVSHARE_BASE_PCT=0.40

# =========================================
# FEATURE FLAGS (BYOP, SHAREKIT)
# =========================================
FEATURE_BYOP=true
FEATURE_BYOP_PUBLISH=true
BYOP_DEFAULT_REVSHARE_PCT=0.40
BYOP_PUBLISH_PLATFORMS=youtube,pinterest,reddit,instagram

SHARE_EMAIL_ENABLED=true
SHARE_EMAIL_DAILY_LIMIT=200
SHAREKIT_DEFAULT_HASHTAGS=#ia #tools #productivit√©

# =========================================
# SERPAPI
# =========================================
SERPAPI_KEY=
SERPAPI_HL=fr
SERPAPI_GL=FR
SERPAPI_CACHE_TTL=3600
SERPAPI_MAX_RESULTS=10

# =========================================
# BREVO (ex Sendinblue)
# =========================================
BREVO_API_KEY=
BREVO_SENDER_EMAIL=your-email@domain.com
BREVO_SENDER_NAME=ContentFlow

# =========================================
# STRIPE (optionnel)
# =========================================
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# =========================================
# MISC
# =========================================
LOG_LEVEL=INFO
PYTHON_VERSION=3.11
