# ContentFlow Environment Configuration

# Database Configuration
DATABASE_URL=postgresql+psycopg://USER:PASS@HOST/db?sslmode=require

# S3 Storage (optional - falls back to local storage)
S3_ENDPOINT=https://your-s3-endpoint
S3_BUCKET=contentflow-assets
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_REGION=auto

# Application Settings
APP_BASE_URL=https://your-repl.repl.co
JWT_SECRET=change_me_in_production

# YouTube API (for Shorts publishing)
YOUTUBE_CLIENT_ID=your-client-id
YOUTUBE_CLIENT_SECRET=your-client-secret
YOUTUBE_REDIRECT_URL=${APP_BASE_URL}/oauth/youtube/callback
YOUTUBE_SCOPES=https://www.googleapis.com/auth/youtube.upload

# Reddit API
REDDIT_CLIENT_ID=your-client-id
REDDIT_CLIENT_SECRET=your-client-secret
REDDIT_REDIRECT_URL=${APP_BASE_URL}/oauth/reddit/callback
REDDIT_USER_AGENT=contentflow/1.0 by your-username
REDDIT_DEFAULT_SUB=videos

# Pinterest API
PINTEREST_CLIENT_ID=your-client-id
PINTEREST_CLIENT_SECRET=your-client-secret
PINTEREST_REDIRECT_URL=${APP_BASE_URL}/oauth/pinterest/callback
PINTEREST_BOARD_ID=your-board-id

# Instagram API (requires business verification)
IG_APP_ID=your-app-id
IG_APP_SECRET=your-app-secret
IG_REDIRECT_URL=${APP_BASE_URL}/oauth/instagram/callback
IG_PAGE_ID=your-page-id
IG_IG_USER_ID=your-user-id

# TikTok API (requires business verification)
TIKTOK_CLIENT_KEY=your-client-key
TIKTOK_CLIENT_SECRET=your-client-secret
TIKTOK_REDIRECT_URL=${APP_BASE_URL}/oauth/tiktok/callback

# Affiliate Tracking
AFFIL_BASE_URL=https://your-affiliate.com/landing
AFFIL_DEFAULT_UTM=utm_source={platform}&utm_content={post_id}

# Content Processing
MIN_VIDEO_DURATION=3
MAX_VIDEO_DURATION=60
OUTPUT_VIDEO_FORMAT=mp4
OUTPUT_VIDEO_QUALITY=23

# Automation Settings
AUTOPILOT_ENABLED=false
INGEST_INTERVAL_MINUTES=30
TRANSFORM_INTERVAL_MINUTES=15
PUBLISH_INTERVAL_MINUTES=10
METRICS_INTERVAL_HOURS=6

# Risk Management
MAX_RISK_SCORE=0.2
MIN_QUALITY_SCORE=0.7
COMPLIANCE_MANUAL_REVIEW=true

# Feature flags
FEATURE_AUTOPILOT=true
FEATURE_REAL_PUBLISH=false
FEATURE_REAL_ANALYTICS=false

# Rate limits (per minute per platform)
RL_YOUTUBE_PMIN=3
RL_REDDIT_PMIN=2
RL_PINTEREST_PMIN=2

# Default EPC if affiliate doesn't provide revenue
DEFAULT_EPC_EUR=0.20

# SerpAPI for content discovery and trends monitoring
SERPAPI_KEY=
SERPAPI_HL=fr
SERPAPI_GL=FR
SERPAPI_CACHE_TTL=3600
SERPAPI_MAX_RESULTS=10

# Meta / Instagram Graph API
META_APP_ID=
META_APP_SECRET=
META_REDIRECT_URL=https://your-repl.repl.co/api/ig/oauth/callback
META_GRAPH_VERSION=v21.0
META_SCOPES=pages_show_list,pages_read_engagement,instagram_basic,instagram_content_publish

# Brevo Email Marketing
BREVO_API_KEY=
BREVO_SENDER_EMAIL=your-email@domain.com
BREVO_SENDER_NAME=ContentFlow

# ==== AUTOPILOT IA ====
FEATURE_AUTOPILOT=true
AI_TICK_INTERVAL_MIN=10
AI_MAX_ACTIONS_PER_TICK=5
AI_CONFIDENCE_THRESHOLD=0.55
AI_DRY_RUN=false
AI_OBJECTIVE=revenue_ctr_safe
AI_LOOKBACK_DAYS=7
AI_MIN_CTR=0.008
AI_MIN_QUALITY=0.70
AI_MAX_RISK=0.20

# Partner Payouts Configuration
PAYOUT_MIN_EUR=10
PAYOUT_METHODS=paypal,bank
DEFAULT_EPC_EUR=0.25
OFFER_MODE=cpc_dynamic         # cpc_fixed | cpc_dynamic | revshare | hybrid
CPC_DEFAULT_EUR=0.10
CPC_MIN_EUR=0.06
CPC_MAX_EUR=0.12
REVSHARE_BASE_PCT=0.40         # 40% du revenu
CPC_SAFETY_MARGIN_EUR=0.05     # buffer marge & risques

# BYOP Features - Bring Your Own Post
FEATURE_BYOP=true
BYOP_DEFAULT_REVSHARE_PCT=0.40
SHARE_EMAIL_ENABLED=true
SHARE_EMAIL_DAILY_LIMIT=200
SHAREKIT_DEFAULT_HASHTAGS=#ia #tools #productivit√©

# BYOP Publishing to Partner Accounts
FEATURE_BYOP_PUBLISH=true
BYOP_PUBLISH_PLATFORMS=youtube,pinterest,reddit,instagram